/* =========================================================
   696 GAME — PVP CARD ANIMATIONS
   STEP 1: SPAWN (Hearthstone-like, clean, non-cheap)
   ---------------------------------------------------------
   RULES:
   - CardArt is NOT animated
   - Only .bb-card container via transform/opacity
   - No layout shifts (NO left/top)
   ========================================================= */

/* Base safety */
.bb-card {
    will-change: transform, opacity;
    transform-origin: 50% 70%;
  }
  
  /* ---------------------------------------------------------
     SPAWN: card enters the board
     Triggered by: .is-spawn
     Timing: ~420ms total
  --------------------------------------------------------- */
  
  .bb-card.is-spawn {
    animation: bb-card-spawn 420ms cubic-bezier(0.22, 1, 0.36, 1) both;
  }
  
  /* Slight rarity weight (very subtle, not flashy) */
  .bb-card.is-spawn.rar-rare {
    animation-duration: 440ms;
  }
  .bb-card.is-spawn.rar-epic {
    animation-duration: 460ms;
  }
  .bb-card.is-spawn.rar-legendary {
    animation-duration: 480ms;
  }
  
  /* ---------------------------------------------------------
     KEYFRAMES
  --------------------------------------------------------- */
  
  @keyframes bb-card-spawn {
    0% {
      opacity: 0;
      transform: translate3d(0, 18px, 0) scale(0.94);
    }
  
    55% {
      opacity: 1;
      transform: translate3d(0, -2px, 0) scale(1.04);
    }
  
    100% {
      opacity: 1;
      transform: translate3d(0, 0, 0) scale(1);
    }
  }
  
  /* ---------------------------------------------------------
     SPAWN FX LAYER (already used by .bb-spawn in JSX)
     Keeps visual pop without touching card layout
  --------------------------------------------------------- */
  
  .bb-card.is-spawn .bb-spawn {
    animation: bb-spawn-flash 260ms ease-out both;
  }
  
  @keyframes bb-spawn-flash {
    0% {
      opacity: 0;
      box-shadow:
        inset 0 0 0 9999px rgba(255,255,255,0.08),
        0 0 0 rgba(255,255,255,0);
    }
  
    40% {
      opacity: 1;
      box-shadow:
        inset 0 0 0 9999px rgba(255,255,255,0.05),
        0 0 24px rgba(120,240,255,0.25);
    }
  
    100% {
      opacity: 0;
      box-shadow:
        inset 0 0 0 9999px rgba(255,255,255,0),
        0 0 0 rgba(255,255,255,0);
    }
  }

/* ---------------------------------------------------------
   STEP 3 — ATTACK LUNGE (Hearthstone-like)
   - container-only (.bb-card)
   - no layout shifts, only transform
   - two states:
     is-attack-from : attacker lunge
     is-attack-to   : defender micro-impact
--------------------------------------------------------- */

.bb-card.is-attack-from {
  animation: bb-card-lunge 160ms cubic-bezier(0.34, 1.56, 0.64, 1) both;
}

.bb-card.is-attack-to {
  animation: bb-card-impact 140ms ease-out both;
}

@keyframes bb-card-lunge {
  0% {
    transform: translate3d(0, 0, 0) scale(1);
  }
  65% {
    transform: translate3d(0, -10px, 0) scale(1.06);
  }
  100% {
    transform: translate3d(0, 0, 0) scale(1);
  }
}

@keyframes bb-card-impact {
  0% {
    transform: scale(1);
  }
  45% {
    transform: scale(0.965);
  }
  100% {
    transform: scale(1);
  }
}
